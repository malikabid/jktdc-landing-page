# Redirect all traffic to coming-soon page
RewriteEngine On

# Rewrite rules for HTML pages (serve from pub/pages)
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(coming-soon|events|organizational-chart|header|footer)\.html$ /pub/pages/$1.html [L]

# Rewrite rules for district pages (serve from pub/pages/districts)
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(srinagar|anantnag|baramulla|budgam|bandipora|ganderbal|kupwara|kulgam|pulwama|shopian)\.html$ /pub/pages/districts/$1.html [L]

# Rewrite rules for pilgrimage pages (serve from pub/pages/pilgrimage)
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(hazratbal-shrine|shankaracharya-temple|kheer-bhawani-temple|charar-e-sharief|martand-sun-temple|amarnath-cave|jama-masjid-srinagar|dastgeer-sahib|makhdoom-sahib|aishmuqam-shrine|khanqah-e-moula|baba-reshi-shrine|ziyarat-naqshband-sahib)\.html$ /pub/pages/pilgrimage/$1.html [L]

#RewriteCond %{REQUEST_URI} !^/coming-soon/
#RewriteCond %{REQUEST_URI} !^/pub/
#RewriteCond %{REQUEST_FILENAME} !-f
#RewriteRule ^(.*)$ /coming-soon/ [R=302,L]

# Set correct MIME types for JavaScript and CSS files
AddType application/javascript .js
AddType text/css .css

# Enable compression
<IfModule mod_deflate.c>
  AddOutputFilterByType DEFLATE text/html text/plain text/xml text/css application/javascript text/javascript
</IfModule>

# Cache control
<IfModule mod_expires.c>
  ExpiresActive On
  ExpiresByType application/javascript "access plus 1 month"
  ExpiresByType text/css "access plus 1 month"
  ExpiresByType image/jpeg "access plus 1 year"
  ExpiresByType image/png "access plus 1 year"
</IfModule>
